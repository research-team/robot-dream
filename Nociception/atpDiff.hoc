begintemplate ATPdiff
objref list, diff1[1],p2x30[1] 
public diff1,p2x30
public list

proc init(){
nsyn =$1
objectvar diff1[nsyn],p2x30[nsyn]
list= new List()
for i=0, nsyn-1 {
diff1[i]=new AtP_4(0.5)
p2x30[i] = new p2x3(0.5)
diff1[i].h =$2
diff1[i].tx1 = 10
diff1[i].Deff = 0.4
p2x30[i].Ev = -40
setpointer p2x30[i].patp, diff1[i].atp
}
for i=0, nsyn-1 {
 list.append(diff1[i])
}
diff1[0].tx1 = 65
diff1[1].tx1 = 35
}
endtemplate ATPdiff